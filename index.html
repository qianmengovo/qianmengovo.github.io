import turtle
import math

# 初始化画笔
t = turtle.Turtle()
screen = turtle.Screen()
screen.setup(width=800, height=800)
screen.bgcolor("#f0f8ff")  # 浅蓝背景，突出水晶感
t.speed(0)  # 最快绘制速度
t.hideturtle()  # 隐藏画笔

# 定义水晶玫瑰的渐变颜色（从浅粉到透明，模拟水晶通透感）
def get_crystal_color(alpha):
    # alpha 控制透明度（0-1），值越小越透明
    r = int(255 * (0.8 + 0.2 * alpha))  # 红色通道
    g = int(255 * (0.3 + 0.2 * alpha))  # 绿色通道
    b = int(255 * (0.5 + 0.2 * alpha))  # 蓝色通道
    return f"#{r:02x}{g:02x}{b:02x}"

# 绘制水晶花瓣（带弧度和渐变）
def draw_crystal_petal(x, y, angle, size, alpha):
    t.penup()
    t.goto(x, y)
    t.setheading(angle)
    t.pendown()
    t.color(get_crystal_color(alpha))
    t.begin_fill()
    # 花瓣弧度（用圆的一部分模拟）
    for _ in range(2):
        t.circle(size, 120)
        t.left(60)
    t.end_fill()

# 绘制花芯（深一点的水晶色）
def draw_center(x, y, size):
    t.penup()
    t.goto(x, y)
    t.setheading(0)
    t.color("#ff69b4")  # 深粉，突出花芯
    t.begin_fill()
    t.circle(size)
    t.end_fill()

# 绘制水晶花茎（带渐变的绿色）
def draw_stem(x, y, height):
    t.penup()
    t.goto(x, y)
    t.setheading(270)
    t.pensize(6)
    # 茎的渐变：从深绿到浅绿
    for i in range(height):
        green = int(34 + (139 - 34) * (i / height))  # 34（深绿）到139（浅绿）
        t.color(f"#00{green:02x}00")
        t.pendown()
        t.forward(1)
        t.penup()
    t.pensize(1)

# 绘制水晶叶子（半透明绿色）
def draw_leaf(x, y, angle, size):
    t.penup()
    t.goto(x, y)
    t.setheading(angle)
    t.color("#00cc66")  # 浅绿，模拟水晶叶子
    t.begin_fill()
    for _ in range(2):
        t.circle(size, 100)
        t.left(80)
    t.end_fill()

# 组装水晶玫瑰
def draw_crystal_rose(x, y):
    # 1. 绘制花芯
    draw_center(x, y + 20, 8)
    
    # 2. 绘制外层水晶花瓣（透明度从0.6到0.9，层次感）
    petal_angles = [0, 60, 120, 180, 240, 300]  # 六个方向的花瓣
    for angle in petal_angles:
        draw_crystal_petal(x, y, angle, 25, 0.6)  # 外层花瓣（较透明）
        draw_crystal_petal(x, y + 5, angle + 30, 18, 0.9)  # 内层花瓣（较实）
    
    # 3. 绘制花茎
    draw_stem(x, y - 30, 150)
    
    # 4. 绘制叶子
    draw_leaf(x, y - 60, 135, 15)  # 左侧叶子
    draw_leaf(x, y - 90, 225, 18)  # 右侧叶子

# 绘制主玫瑰（中心位置）
draw_crystal_rose(0, 50)

# 保持窗口显示
turtle.done()
